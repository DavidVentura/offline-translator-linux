import { ScrollView } from "std-widgets.slint";
import { LanguageItem } from "language-item.slint";
import { Language } from "language.slint";
import { AppTheme } from "theme.slint";

export component ManageLanguagesComponent {
    in property <image> download-icon;
    in property <image> delete-icon;
    in property <[Language]> installed-languages;
    in property <[Language]> not-installed-languages;

    callback download-language(Language);
    callback delete-language(Language);

    ScrollView {
        VerticalLayout {
            alignment: LayoutAlignment.start;
            spacing: 8px;
            padding: 16px;

            if installed-languages.length > 0: Text {
                text: "Installed";
                font-size: 18px;
                font-weight: 600;
                color: AppTheme.text-primary;
            }

            for lang in installed-languages: LanguageItem {
                language: lang;
                is-installed: true;
                download-icon: root.download-icon;
                delete-icon: root.delete-icon;
                action-clicked => {
                    root.delete-language(lang);
                }
            }

            if not-installed-languages.length > 0: Text {
                text: "Available";
                font-size: 18px;
                font-weight: 600;
                color: AppTheme.text-primary;
            }

            for lang in not-installed-languages: LanguageItem {
                language: lang;
                is-installed: false;
                download-icon: root.download-icon;
                delete-icon: root.delete-icon;
                action-clicked => {
                    root.download-language(lang);
                }
            }
        }
    }
}
